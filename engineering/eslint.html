<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概念 | hx&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/img/logo.png">
    <meta name="description" content="hx&#39;s blog">
    <meta name="keywords" content="blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8b6be189.css" as="style"><link rel="preload" href="/blog/assets/js/app.59f294b2.js" as="script"><link rel="preload" href="/blog/assets/js/2.19337781.js" as="script"><link rel="preload" href="/blog/assets/js/21.ffd52a65.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.037764f4.js"><link rel="prefetch" href="/blog/assets/js/11.e6a9eaaf.js"><link rel="prefetch" href="/blog/assets/js/12.063b0334.js"><link rel="prefetch" href="/blog/assets/js/13.b3f68ed0.js"><link rel="prefetch" href="/blog/assets/js/14.05a01be4.js"><link rel="prefetch" href="/blog/assets/js/15.49d48fc2.js"><link rel="prefetch" href="/blog/assets/js/16.c99f004f.js"><link rel="prefetch" href="/blog/assets/js/17.1f393990.js"><link rel="prefetch" href="/blog/assets/js/18.b0e89bc0.js"><link rel="prefetch" href="/blog/assets/js/19.e2db66b0.js"><link rel="prefetch" href="/blog/assets/js/20.3fa5cf33.js"><link rel="prefetch" href="/blog/assets/js/22.a970a189.js"><link rel="prefetch" href="/blog/assets/js/23.903e05f8.js"><link rel="prefetch" href="/blog/assets/js/24.30bc3798.js"><link rel="prefetch" href="/blog/assets/js/25.0cdb4854.js"><link rel="prefetch" href="/blog/assets/js/26.6bedb5f0.js"><link rel="prefetch" href="/blog/assets/js/27.4341fa36.js"><link rel="prefetch" href="/blog/assets/js/28.e74e7bda.js"><link rel="prefetch" href="/blog/assets/js/29.ba75afe4.js"><link rel="prefetch" href="/blog/assets/js/3.b7748c15.js"><link rel="prefetch" href="/blog/assets/js/30.4dc4d786.js"><link rel="prefetch" href="/blog/assets/js/31.9f3a25e1.js"><link rel="prefetch" href="/blog/assets/js/32.2a301977.js"><link rel="prefetch" href="/blog/assets/js/33.fe5f563d.js"><link rel="prefetch" href="/blog/assets/js/34.e7795d7e.js"><link rel="prefetch" href="/blog/assets/js/35.405d8d80.js"><link rel="prefetch" href="/blog/assets/js/36.92a667ad.js"><link rel="prefetch" href="/blog/assets/js/37.cb4a3ced.js"><link rel="prefetch" href="/blog/assets/js/38.d9bab0db.js"><link rel="prefetch" href="/blog/assets/js/39.41759e8c.js"><link rel="prefetch" href="/blog/assets/js/4.c3eb0cb1.js"><link rel="prefetch" href="/blog/assets/js/40.5a3feb93.js"><link rel="prefetch" href="/blog/assets/js/41.c8e83cea.js"><link rel="prefetch" href="/blog/assets/js/42.8bc09fcc.js"><link rel="prefetch" href="/blog/assets/js/5.8befe194.js"><link rel="prefetch" href="/blog/assets/js/6.8837a3c6.js"><link rel="prefetch" href="/blog/assets/js/7.21b9df0d.js"><link rel="prefetch" href="/blog/assets/js/8.1f155a75.js"><link rel="prefetch" href="/blog/assets/js/9.4ace1c37.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8b6be189.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="hx's blog" class="logo"> <span class="site-name can-hide">hx's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue原理篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>eslint</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/engineering/eslint.html" aria-current="page" class="active sidebar-link">eslint基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#配置文件" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#配置之语言特性" class="sidebar-link">配置之语言特性</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#配置之规则" class="sidebar-link">配置之规则</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#配置之插件和解析器" class="sidebar-link">配置之插件和解析器</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#配置之忽略文件" class="sidebar-link">配置之忽略文件</a></li><li class="sidebar-sub-header"><a href="/blog/engineering/eslint.html#集成-vs-code" class="sidebar-link">集成（VS Code）</a></li></ul></li><li><a href="/blog/engineering/eslint-ts.html" class="sidebar-link">eslint + ts</a></li><li><a href="/blog/engineering/eslint-vue.html" class="sidebar-link">eslint + vue</a></li><li><a href="/blog/engineering/eslint-prettier.html" class="sidebar-link">eslint + prettier</a></li><li><a href="/blog/engineering/eslint-custom-plugin.html" class="sidebar-link">eslint自定义插件</a></li></ul></section></li><li><a href="/blog/engineering/prettier.html" class="sidebar-link">prettier</a></li><li><a href="/blog/engineering/commitlint.html" class="sidebar-link">commitlint</a></li><li><a href="/blog/engineering/code-standard.html" class="sidebar-link">编码规范工程化</a></li><li><a href="/blog/engineering/vite.html" class="sidebar-link">vite</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <p>问：eslint 是干嘛的？</p> <p>答：根据制定的规则来检查你的 ECMAScript/JavaScript 代码，能对不符合规则的代码进行提示和一键修复功能（这里的规则可以是 eslint 内置的规则，也可以是自定义的规则）</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>eslint 需要 Node.js 版本（^12.22.0、^14.17.0 或 &gt;=16.0.0）</p></div> <p>安装 eslint 的两种方式：</p> <h4 id="自动安装"><a href="#自动安装" class="header-anchor">#</a> 自动安装</h4> <p>通过官方提供的 <code>@eslint/create-config</code> 脚本（cli 也好）交互式的方式进行 eslint 的安装和配置文件的自动生成。通过这种方式，你将会得到最新的 eslint 包和一份你自己选择的 eslint 配置文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> init @eslint/config
</code></pre></div><p>这里你可能对 <code>npm init</code> 这个命令有些疑惑，如果想要了解更多关于 <code>npm init</code> 相关内容，可以阅读 <a href="https://docs.npmjs.com/cli/v6/commands/npm-init" target="_blank" rel="noopener noreferrer">npm Docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>对于 <code>npm init @eslint/config</code>，你可以直接理解成 npm 会给我们执行 <code>npx @eslint/create-config</code>。</p> <h4 id="手动安装"><a href="#手动安装" class="header-anchor">#</a> 手动安装</h4> <ol><li>安装 eslint</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> eslint <span class="token parameter variable">-D</span>
</code></pre></div><ol start="2"><li>新增 eslint 配置文件 <code>.eslintrc.js</code></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">touch</span> .eslintrc.js
</code></pre></div><ol start="3"><li>增加一些配置到 <code>.eslintrc.js</code> 中</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token string">'latest'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># filepath 为指定的文件，告诉 eslint 需要检查那个文件</span>
<span class="token comment"># eslint 会检测该文件中的代码内容是否符合配置文件中定义的规则，然后将检查结果输出到命令行</span>
npx eslint <span class="token operator">&lt;</span>filepath<span class="token operator">&gt;</span>
</code></pre></div><p>简单了解了 <code>eslint</code> 的安装和使用之后，我们接下来就深入到 <code>eslint</code> 的配置中去。它是 <code>eslint</code> 的核心，它将告诉 <code>eslint</code> 如何去检查我们的代码。</p> <h2 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h2> <h3 id="配置文件格式"><a href="#配置文件格式" class="header-anchor">#</a> 配置文件格式</h3> <p><code>eslint</code> 支持单文件配置 <code>.eslintrc.&lt;js | cjs | yaml | yml | json&gt;</code>，以及内嵌到 <code>package.json</code>配置。对于不同格式，<code>eslint</code> 的读取优先级如下</p> <ul><li>.eslintrc.js</li> <li>.eslintrc.cjs</li> <li>.eslintrc.yaml</li> <li>.eslintrc.yml</li> <li>.eslint.json</li> <li>package.json</li></ul> <h3 id="eslint-读取配置文件规则"><a href="#eslint-读取配置文件规则" class="header-anchor">#</a> eslint 读取配置文件规则</h3> <p><code>eslint</code> 会从需要检查的文件目录下开始查找 <code>.eslintrc.*</code> 和 <code>package.json</code> 文件。如果没有找到，会开始向父目录进行查找，直到找到文件系统根目录或则指定了 <code>root: true</code> 时停止。</p> <p>你也可以通过命令行参数 <code>--config</code> 手动指定具体的配置文件。</p> <h3 id="扩展配置"><a href="#扩展配置" class="header-anchor">#</a> 扩展配置</h3> <p>针对不同项目的 <code>eslint</code> 配置，我们不可能每次都需要自己配置。因为它们大多情况下都是相同的，这时我们便可以通过 <code>eslint</code> 提供的 <code>extends</code> 配置项来扩展我们的配置。它会继承我们指定好的所有配置（规则、插件和语言选项）。</p> <p><code>extends</code> 值类型：</p> <ul><li>【字符】具体的文件路径或发布到 <code>npm</code> 上的包名称（如 <code>airbnb</code>，包名称规则为 <code>eslint-config-*</code>，使用 <code>extends</code> 可以省略前缀 <code>eslint-config-</code>。）</li> <li>【字符数组】同上（多个扩展，再遇到冲突规则时，后面的扩展会覆盖掉前面的扩展）</li></ul> <p>如果继承的规则与配置文件中的规则发生冲突，配置文件的规则优先级更高</p> <h2 id="配置之语言特性"><a href="#配置之语言特性" class="header-anchor">#</a> 配置之语言特性</h2> <h3 id="env"><a href="#env" class="header-anchor">#</a> env</h3> <p>总所周知，我们的代码可以运行在不同的环境中。而不同的环境会给我提供不同的全局变量，如在浏览器环境中。我们能够使用 <code>window</code>，而在其他环境中这个全局变量将不存在。而 <code>eslint</code> 并不知道我们的代码运行在什么环境中，拥有那些全局变量，所以这时候就需要一个配置项来告诉 <code>eslint</code> 我们的代码会运行在什么环境中。而这个配置就是 <code>env</code></p> <p><code>env</code> 值选项</p> <ul><li>browser</li> <li>node</li> <li>commonjs</li> <li>es6</li> <li>es2016</li> <li>es2017</li> <li>... （如果想了解更多，可以参考 <a href="https://eslint.org/docs/latest/use/configure/language-options" target="_blank" rel="noopener noreferrer">eslint 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li></ul> <p>除了使用 <code>eslint</code> 提供给我们的环境，我们也可以使用插件中的 env</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;example/custom&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果上述两种方式依然不能给你提供你想要的全局变量，你也可以通过 <code>globals</code> 配置你想要的全局变量</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;globals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;var1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;writable&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;readonly&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Promise&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span> <span class="token comment">// 禁用</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h3> <p><code>env</code> 告诉了 <code>eslint</code> 我们代码环境中内置了哪些全局变量，而 <code>parserOptions</code> 告诉了 <code>eslint</code> 该用什么样的语法去检查我们的代码。默认 <code>eslint</code> 使用的是 ECMAScript 5 的语法进行检查。
<code>parserOptions</code> 属性</p> <ul><li>ecmaVersion 可选配置值 3、5（默认）、6、7、8...、（你也可以设置成 2015、2016）、latest（最新版）</li> <li>sourceType 默认为 script、也可以是 module</li> <li>allowReserved 是否允许使用 ES 保留字作为标识符（如果 ecmaVersion 为 3）</li> <li>ecmaFeatures
<ul><li>globalReturn 允许全局范围内的 return 语句</li> <li>impliedStrict - 启用全局严格模式（如果 ecmaVersion 是 5 或更高版本）</li> <li>jsx - 启用 JSX</li></ul></li></ul> <p>示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;latest&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="配置之规则"><a href="#配置之规则" class="header-anchor">#</a> 配置之规则</h2> <p>规则是 <code>eslint</code> 的核心模块，它将告诉 <code>eslint</code> 该如何去检查我们的代码。
<code>eslint</code> 拥有大量的<a href="https://eslint.org/docs/latest/rules/" target="_blank" rel="noopener noreferrer">内置规则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这些规则如果你不进行任何配置的话，默认都是关闭的。当然你可以直接通过配置 <code>extends: 'eslint:recommended'</code> 来直接开启所有 <code>eslint</code> 推荐的规则。也可以去内置规则中选择你需要的规则进行手动开启和关闭。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>不推荐你使用 <code>extends: eslint:all</code> 来开启所有的 <code>eslint</code> 规则，虽然它能在一定程度上带来严格的规则校验，但它会随着你 <code>eslint</code> 版本的变化而变化。对于不同版本的 <code>eslint</code> ，它可能会拥有不同的规则（如新版本新增的规则、废弃的规则）</p></div> <h3 id="配置规则"><a href="#配置规则" class="header-anchor">#</a> 配置规则</h3> <p>指定规则 ID 和规则对应的值（规则 ID 可以通过查看<a href="https://eslint.org/docs/latest/rules/" target="_blank" rel="noopener noreferrer">内置规则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>进行获取）
规则对应的值：</p> <ul><li>&quot;off&quot; 或 0 - 关闭规则</li> <li>&quot;warn&quot; 或 1 - 启用并视作警告（不影响退出）。</li> <li>&quot;error&quot; 或 2 - 启用并视作错误（触发时退出代码为 1）</li></ul> <h3 id="插件规则"><a href="#插件规则" class="header-anchor">#</a> 插件规则</h3> <p><code>eslint</code> 默认只支持 JS 的规则检查，对于一些特殊的文件（如 .vue）。这时候使用 <code>eslint</code> 内置的规则就有点不够看了，<code>eslint</code> 对于 vue 的规则和语法并没有很好的一个支持，针对这种情况，我们可以使用 eslint 插件中的规则</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;eqeqeq&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;curly&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plugin1/rule1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="禁用规则"><a href="#禁用规则" class="header-anchor">#</a> 禁用规则</h3> <p>虽然我不推荐禁用 <code>eslint</code> 的规则，但是在某些场景下它确实有必要的。关于如何禁用 <code>eslint</code> 中的规则，可以查看 <a href="https://eslint.org/docs/latest/use/configure/rules#disabling-rules" target="_blank" rel="noopener noreferrer">Eslint 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>简单示例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* eslint-disable no-alert, no-console */</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span>

<span class="token comment">/* eslint-enable no-alert, no-console */</span>
</code></pre></div><h2 id="配置之插件和解析器"><a href="#配置之插件和解析器" class="header-anchor">#</a> 配置之插件和解析器</h2> <h3 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h3> <p><code>eslint</code> 支持第三方插件，它们遵循 <code>eslint</code> 插件命名规范（以 eslint-plugin-开头）。在插件使用时，我们省略掉 eslint-plugin- 前缀。也可以不省略
示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eslint-plugin-plugin2&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>eslint</code> 插件中可以包含自定义规则、配置、环境等
示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 插件引入</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span> <span class="token comment">// eslint-plugin-jquery</span>
    <span class="token string">&quot;@foo/foo&quot;</span><span class="token punctuation">,</span> <span class="token comment">// @foo/eslint-plugin-foo</span>
    <span class="token string">&quot;@bar&quot;</span> <span class="token comment">// @bar/eslint-plugin</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用插件中的配置（如 eslint 内置规则的配置对象）</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:@foo/foo/recommended&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin:@bar/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用插件中的自定义规则</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;jquery/a-rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@foo/foo/some-rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@bar/another-rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用插件中的环境（插件环境内置的全局变量）</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;jquery/jquery&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@foo/foo/env-foo&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@bar/env-bar&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="解析器"><a href="#解析器" class="header-anchor">#</a> 解析器</h3> <p><code>eslit</code> 工作原理：我们知道，eslint 之所以能过对我们的代码进行检查，是因为它将我们的代码解析成了抽象语法（AST），如果不太了解抽象语法树，你可以简单理解成它使用一个 JavaScript 对象来描述我们的代码。然后通过分析抽象语法树，看它是否符合配置的规则。如果不符合再给出相应的提示。而解析器要做的事情就是将代码解析成 AST</p> <p>默认情况下，<code>eslint</code> 使用 <a href="https://github.com/eslint/espree" target="_blank" rel="noopener noreferrer">Espree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>为</p> <p>与 <code>eslint</code> 兼容的解析器</p> <ul><li>Esprima</li> <li>@babel/eslint-parser - 使 Babel 解析器与 ESLint 兼容的的包装器</li> <li>@typescript-eslint/parser - 一个将 TypeScript 转换为与 ESTree 兼容的形式的解析器，因此它可以在 ESLint 中使用。</li></ul> <p>自定义解析器示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esprima&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="配置之忽略文件"><a href="#配置之忽略文件" class="header-anchor">#</a> 配置之忽略文件</h2> <p><code>eslint</code> 在不指定具体检查文件的情况下会对所有的文件进行检查，这种行为是愚蠢的。为了让它看起来不那么愚蠢，<code>eslint</code> 给我们提供了 <code>ignorePatterns</code> 配置项去配置该忽略那些文件的检查。当然你也可新建一个 <code>.eslintignore</code> 文件来告诉 <code>eslint</code> 该忽略掉哪些文件的检查，如果你不嫌麻烦的话。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ignorePatterns&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;temp.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;**/vendor/*.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果你想了解更多关于 <code>eslint</code> 忽略文件的更多骚操作，你可以阅读它们提供的<a href="https://eslint.org/docs/latest/use/configure/ignore" target="_blank" rel="noopener noreferrer">Eslint 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="集成-vs-code"><a href="#集成-vs-code" class="header-anchor">#</a> 集成（VS Code）</h2> <p>在日常开发中，如果我们每次都需要通过命令行允许 <code>eslint</code> 命令来查看我们编写的代码是否符合预期。那将是令人头痛的一件事，为了减少我们访问命令行的次数。我们可以通过给 VS Code 安装一个 <code>Eslint</code> 插件来实现实时的 lint 结果反馈。</p> <h3 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装</h3> <p>我们只需要在 VS Code 插件市场中安装 <code>Eslint</code> 插件，安装完成之后重启一下 Vs code。重启之后你就会发现我们可以实时的观察到 <code>eslint</code> 检查之后的结果（<code>Eslint</code> 插件默认会读取当前项目中的配置文件完成该项目检查）</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/vue/component-update-diff-3.x.html" class="prev">
        组件更新之diff算法（3.x）
      </a></span> <span class="next"><a href="/blog/engineering/eslint-ts.html">
        eslint + ts
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.59f294b2.js" defer></script><script src="/blog/assets/js/2.19337781.js" defer></script><script src="/blog/assets/js/21.ffd52a65.js" defer></script>
  </body>
</html>
