<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŸºç¡€ | hx&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/img/logo.png">
    <meta name="description" content="hx&#39;s blog">
    <meta name="keywords" content="blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8b6be189.css" as="style"><link rel="preload" href="/blog/assets/js/app.c854eaa4.js" as="script"><link rel="preload" href="/blog/assets/js/2.19337781.js" as="script"><link rel="preload" href="/blog/assets/js/15.75b7cd9a.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3863d362.js"><link rel="prefetch" href="/blog/assets/js/11.f156f3f9.js"><link rel="prefetch" href="/blog/assets/js/12.e74400f5.js"><link rel="prefetch" href="/blog/assets/js/13.683a26f6.js"><link rel="prefetch" href="/blog/assets/js/14.2d137fd8.js"><link rel="prefetch" href="/blog/assets/js/16.3d04e6b0.js"><link rel="prefetch" href="/blog/assets/js/17.f064ad54.js"><link rel="prefetch" href="/blog/assets/js/18.6b1e4a75.js"><link rel="prefetch" href="/blog/assets/js/19.ff554ea9.js"><link rel="prefetch" href="/blog/assets/js/20.9245cc38.js"><link rel="prefetch" href="/blog/assets/js/21.dd92d893.js"><link rel="prefetch" href="/blog/assets/js/22.b50196b2.js"><link rel="prefetch" href="/blog/assets/js/23.da591ccd.js"><link rel="prefetch" href="/blog/assets/js/24.5781a849.js"><link rel="prefetch" href="/blog/assets/js/25.30640b7e.js"><link rel="prefetch" href="/blog/assets/js/26.90f1e3a6.js"><link rel="prefetch" href="/blog/assets/js/27.30948638.js"><link rel="prefetch" href="/blog/assets/js/28.3080c0ac.js"><link rel="prefetch" href="/blog/assets/js/29.78397d42.js"><link rel="prefetch" href="/blog/assets/js/3.4660d5f6.js"><link rel="prefetch" href="/blog/assets/js/30.f1d687d4.js"><link rel="prefetch" href="/blog/assets/js/31.ebc22c81.js"><link rel="prefetch" href="/blog/assets/js/32.5431d4d1.js"><link rel="prefetch" href="/blog/assets/js/33.8b12ea7a.js"><link rel="prefetch" href="/blog/assets/js/34.77315d4a.js"><link rel="prefetch" href="/blog/assets/js/35.9a98afdd.js"><link rel="prefetch" href="/blog/assets/js/36.a40ecf2f.js"><link rel="prefetch" href="/blog/assets/js/37.4244c3fd.js"><link rel="prefetch" href="/blog/assets/js/38.6e17e550.js"><link rel="prefetch" href="/blog/assets/js/39.1a2dfaae.js"><link rel="prefetch" href="/blog/assets/js/4.c3eb0cb1.js"><link rel="prefetch" href="/blog/assets/js/40.73207923.js"><link rel="prefetch" href="/blog/assets/js/41.df4ec3a0.js"><link rel="prefetch" href="/blog/assets/js/42.70dcf9fe.js"><link rel="prefetch" href="/blog/assets/js/43.4e8865db.js"><link rel="prefetch" href="/blog/assets/js/44.21d75db9.js"><link rel="prefetch" href="/blog/assets/js/5.8befe194.js"><link rel="prefetch" href="/blog/assets/js/6.8837a3c6.js"><link rel="prefetch" href="/blog/assets/js/7.e303a933.js"><link rel="prefetch" href="/blog/assets/js/8.2eb2ab50.js"><link rel="prefetch" href="/blog/assets/js/9.15c1af71.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8b6be189.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="hx's blog" class="logo"> <span class="site-name can-hide">hx's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>åŸºç¡€ç¯‡</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/basics/functional-program.html" class="sidebar-link">æµ…è°ˆå‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="/blog/basics/scope.html" class="sidebar-link">ä½œç”¨åŸŸã€é—­åŒ…ã€this</a></li><li><a href="/blog/basics/event-loop.html" class="sidebar-link">äº‹ä»¶å¾ªç¯</a></li><li><a href="/blog/basics/typescript.html" aria-current="page" class="active sidebar-link">TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#åŸºç¡€" class="sidebar-link">åŸºç¡€</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#ç±»å‹æ“ä½œ" class="sidebar-link">ç±»å‹æ“ä½œ</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#ç±»å‹æ–¹æ³•" class="sidebar-link">ç±»å‹æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#æ¨¡å—" class="sidebar-link">æ¨¡å—</a></li></ul></li><li><a href="/blog/basics/deeply-understand-the-obj.html" class="sidebar-link">æ·±å…¥ç†è§£ JS ä¸­çš„å¯¹è±¡</a></li><li><a href="/blog/basics/char-history.html" class="sidebar-link">å­—ç¬¦å‘å±•å²</a></li><li><a href="/blog/basics/gc.html" class="sidebar-link">åƒåœ¾å›æ”¶æœºåˆ¶</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VueåŸç†ç¯‡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å·¥ç¨‹åŒ–ç¯‡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ€§èƒ½ä¼˜åŒ–ç¯‡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®—æ³•</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="header-anchor">#</a> åŸºç¡€</h2> <ul><li>tsc ç¼–è¯‘å™¨é»˜è®¤ä¼šå¯¹ ts ä»£ç è¿›è¡Œé™çº§ç¼–è¯‘ï¼ˆé»˜è®¤ --target æ˜¯ es3ï¼‰</li> <li>ts é»˜è®¤ä¼šæ£€æŸ¥å‡½æ•°å‚æ•°æ•°é‡ï¼ˆå‡½æ•°è°ƒç”¨æ—¶ï¼Œts å…è®¸ å®å‚ &gt;= è¡Œå‚ï¼‰</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> å·²ç» </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> å²äº†</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">)</span> <span class="token comment">// âŒ</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token comment">// âœ…</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">'hehe'</span><span class="token punctuation">)</span> <span class="token comment">// âœ…</span>
</code></pre></div><ul><li>ts èƒ½æ ¹æ®ä¸Šä¸‹æ–‡æ¨å¯¼å‡ºå˜é‡ç±»å‹ï¼ˆå¯ä»¥æ¨å¯¼å‡º this çš„ç±»å‹ï¼‰</li> <li>ç±»å‹åˆ«å å’Œ æ¥å£çš„åŒºåˆ«ï¼ˆç±»å‹åˆ«åä¸èƒ½é‡å¤å£°æ˜ï¼‰</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token string">'hjx'</span>
<span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token string">'cmx'</span>
<span class="token comment">// âŒ</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// âœ… æ¥å£åç›¸åŒä¼šè¿›è¡Œç±»å‹åˆå¹¶ï¼Œæœ€åç»“æœä¸º</span>
<span class="token keyword">interface</span> <span class="token class-name">ResultPerson</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ç±»å‹æ–­è¨€ä¸å…è®¸ç»™æ˜ç¡®ç±»å‹çš„å€¼æ–­è¨€ï¼ˆå¦åˆ™ä¼šæŠ¥é”™ï¼‰</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'hjx'</span> <span class="token keyword">as</span> <span class="token builtin">number</span> <span class="token comment">// âŒ</span>
</code></pre></div><ul><li>ts çš„ç±»å‹æ¨å¯¼é»˜è®¤åªä¼šæ¨å¯¼å‡ºå…·ä½“çš„ç±»å‹ï¼Œè€Œéå…·ä½“çš„å­—é¢é‡ã€‚å¦‚æœæƒ³è¦è®© ts æ¨å¯¼ä¸ºå…·ä½“çš„å­—é¢é‡çš„å€¼</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token comment">// æ¨å¯¼ç»“æœä¸º</span>
<span class="token keyword">type</span> <span class="token class-name">obj</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// æ¨å¯¼ç»“æœä¸º</span>
<span class="token keyword">type</span> <span class="token class-name">obj</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span>
  <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>å‡½æ•°ç±»å‹</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// å‡½æ•°è¡¨è¾¾å¼æ–¹å¼å£°æ˜</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// ç±»å‹åˆ«åæ–¹å¼å£°æ˜å‡½æ•°ï¼ˆå¯ä»¥å£°æ˜å…·æœ‰å±æ€§çš„å‡½æ•°ç±»å‹ï¼‰</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  desc<span class="token operator">:</span> <span class="token function">string</span>
  <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// é€šè¿‡æ¥å£å£°æ˜æ„é€ å‡½æ•°ï¼ˆæ—¢å¯ä»¥ newï¼Œåˆå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ã€‚ç±»ä¼¼ Dateã€Stringï¼‰</span>
<span class="token keyword">interface</span> <span class="token class-name">CallOrConstruct</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Date</span>
  <span class="token punctuation">(</span>n<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‡½æ•°è¿”å›ç±»å‹ä¸º voidï¼Œè¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚ä½†ä¹Ÿå¯ä»¥è¿”å›ä»»ä½•ç±»å‹çš„å€¼</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">const</span> fn<span class="token operator">:</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hehe'</span>
<span class="token punctuation">}</span> <span class="token comment">// å¹¶ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™ä¹Ÿç¬¦åˆ Fn ç±»å‹ï¼ˆè¿™é‡Œçš„ void è¡¨ç¤ºæˆ‘ä¸ä¼šæ£€æŸ¥ä½ çš„è¿”å›å€¼ï¼‰</span>

<span class="token comment">// ä½†å¦‚æœæ˜¾ç¤ºçš„å‘Šè¯‰ ts å‡½æ•°å­˜åœ¨æŸä¸ªç±»å‹çš„è¿”å›å€¼æ—¶ï¼Œé‚£ä¹ˆå¿…é¡»è¿”å›å¯¹åº”ç±»å‹çš„è¿”å›å€¼</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hehe'</span> <span class="token comment">// æŠ¥é”™ Type 'string' is not assignable to type 'void'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>å¯¹è±¡ç±»å‹ interface</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ğŸŒŸ readonly è¡¨ç¤ºå°†æŸä¸ªå±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œä½†ä»…ä½œç”¨äºå½“å‰å±æ€§ï¼Œå…¶å†…éƒ¨å­å±æ€§ä¸å—å½±å“</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> girlFriend<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// girlFriend ä¸èƒ½ä¿®æ”¹ï¼ŒgirlFriend.name å¯ä»¥ä¿®æ”¹</span>

<span class="token comment">// ğŸŒŸ index signatures ç´¢å¼•ç­¾åï¼Œè¿™é‡Œçš„ index ä»£è¡¨çš„å°±æ˜¯ç´¢å¼•ç­¾å</span>
<span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person1<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span> xxx<span class="token operator">:</span> <span class="token number">1234</span> <span class="token punctuation">}</span> <span class="token comment">// âœ…</span>
<span class="token keyword">const</span> person2<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> xxx<span class="token operator">:</span> <span class="token string">'xxx'</span> <span class="token punctuation">}</span> <span class="token comment">// âŒ å’Œ Person ä¸å­˜åœ¨å…¬å…±å±æ€§</span>

<span class="token comment">// ğŸŒŸ extends ç»§æ‰¿</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">NameLike</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// extends multiple type ç»§æ‰¿å¤šä¸ªç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">NameLike</span><span class="token punctuation">,</span> AgeLike <span class="token punctuation">{</span>
  friend<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// ğŸŒŸ é…åˆæ³›å‹å˜é‡</span>
<span class="token keyword">interface</span> <span class="token class-name">Box<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  content<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç±»å‹æ“ä½œ"><a href="#ç±»å‹æ“ä½œ" class="header-anchor">#</a> ç±»å‹æ“ä½œ</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ğŸŒŸ Generic Constraints æ³›å‹çº¦æŸ</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">logLen</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token comment">// ğŸŒŸ keyof</span>
<span class="token comment">// å°† interface æ‰€æœ‰çš„ç´¢å¼•ç±»å‹ç»„æˆä¸€ä¸ªè”åˆç±»å‹è¿”å›</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Key</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person <span class="token comment">// === type Key = 'name' | string | number</span>
<span class="token comment">// è¿™é‡Œä¹‹æ‰€ä»¥å­˜åœ¨ number ç±»å‹ï¼Œæ˜¯å› ä¸º Person ç±»å‹çš„å±æ€§ä¹Ÿå¯ä»¥é€šè¿‡æ•°å­—ä¸‹æ ‡è®¿é—®</span>

<span class="token comment">// ğŸŒŸ typeof</span>
<span class="token comment">// è¿”å› ts æ¨åˆ°å‡ºæ¥çš„ç±»å‹ï¼Œä½†è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ã€‚typeof ä½œç”¨åœ¨åŸºç¡€ç±»å‹çš„å€¼èº«ä¸Šæ—¶</span>
<span class="token comment">// ä»–çš„æ¨åˆ°ä¼šå› ä¸ºå£°æ˜è¯­æ³•ï¼ˆletï¼Œconstï¼‰çš„å˜åŒ–æ¨åˆ°å‘ç”Ÿå˜åŒ–</span>
<span class="token keyword">const</span> name1 <span class="token operator">=</span> <span class="token string">'hjx'</span>
<span class="token keyword">let</span> name2 <span class="token operator">=</span> <span class="token string">'cmx'</span>
<span class="token keyword">type</span> <span class="token class-name">Name1</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> name1 <span class="token comment">// Name1 = 'hjx' å¯¹äº const åŸºç¡€ç±»å‹ï¼Œæ¨åˆ°å‡ºæ¥çš„å°±æ˜¯å¸¸é‡å€¼</span>
<span class="token keyword">type</span> <span class="token class-name">Name2</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> name2 <span class="token comment">// Name2 = string</span>
<span class="token comment">// âš ï¸ typeof åé¢ç´§è·Ÿå…·ä½“çš„å˜é‡ï¼Œä¸æ”¯æŒè¿ç®— typeof fn() âŒ</span>

<span class="token comment">// ğŸŒŸ ReturnType&lt;Fn&gt;</span>
<span class="token comment">// è¿”å› Fn å‡½æ•°ç±»å‹è¿”å›çš„ç±»å‹ã€‚</span>
<span class="token comment">// âš ï¸ è¿™é‡Œçš„ Fn æ˜¯å‡½æ•°ç±»å‹ï¼Œå¹¶éå‡½æ•°</span>

<span class="token comment">// ğŸŒŸ ç´¢å¼•ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">NameKey</span> <span class="token operator">=</span> <span class="token string">'name'</span>
<span class="token keyword">type</span> <span class="token class-name">MyString1</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span>NameKey<span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">MyString2</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
<span class="token comment">// æ³¨æ„ï¼šä½¿ç”¨ç´¢å¼•ç±»å‹æ—¶ï¼Œç´¢å¼•å¿…é¡»æ˜¯å…·ä½“çš„ä¸€ä¸ªç±»å‹ï¼Œè¿™é‡Œçš„ 'name' ä»£è¡¨çš„æ˜¯å­—é¢é‡ç±»å‹ 'name',</span>
<span class="token comment">// è€Œå¹¶éå­—ç¬¦ä¸² 'name'ï¼Œå¦‚æœä½¿ç”¨å­—ç¬¦ä¸² 'name', ts å°†ä¼šç»™ä½ æŠ›å‡ºä¸€ä¸ªé”™è¯¯</span>
<span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token string">'name'</span>
<span class="token keyword">type</span> <span class="token class-name">MyString3</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// error</span>
<span class="token comment">// 'key' refers to a value, but is being used as a type here. Did you mean 'typeof key'?</span>

<span class="token comment">// ğŸŒŸ æ¡ä»¶ç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">NameOrId<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span>
  <span class="token operator">?</span> IdLabel
  <span class="token operator">:</span> NameLabel

<span class="token comment">// ğŸŒŸ interï¼ˆæ¡ä»¶æ³›å‹ï¼‰</span>
<span class="token keyword">type</span> <span class="token class-name">Flatten<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> Item<span class="token operator">&gt;</span></span> <span class="token operator">?</span> Item <span class="token operator">:</span> Type

<span class="token comment">// ğŸŒŸ å­—ç¬¦ä¸²æ“ä½œç±»å‹</span>
Uppercase<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// å¤§å†™</span>
Lowercase<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// å°å†™</span>
Capitalize<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// é¦–å­—æ¯å¤§å†™</span>
Uncapitalize<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// é¦–å­—æ¯å°å†™</span>
</code></pre></div><h2 id="ç±»å‹æ–¹æ³•"><a href="#ç±»å‹æ–¹æ³•" class="header-anchor">#</a> ç±»å‹æ–¹æ³•</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Pick Omit</span>
<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">say</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">play</span><span class="token punctuation">(</span>think<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">NoAgePerson</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">&gt;</span> <span class="token comment">// ===</span>
<span class="token keyword">type</span> <span class="token class-name">NoAgePerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">say</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">play</span><span class="token punctuation">(</span>think<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">OnlyNamePerson</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span> <span class="token comment">// ===</span>
<span class="token keyword">type</span> <span class="token class-name">OnlyNamePerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
</code></pre></div><p>æ›´å¤šç±»å‹æ–¹æ³• <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#awaitedtype" target="_blank" rel="noopener noreferrer">ts docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="header-anchor">#</a> æ¨¡å—</h2> <p><strong>å¯¼å…¥æ¨¡å—ä¸­çš„ç±»å‹</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ä»…ä»…å¯¼å‡ºç±»å‹</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> createCatName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./animal.js'</span>
<span class="token comment">// Inline type imports</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createCatName<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Cat</span><span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Dog</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./animal.js'</span>
</code></pre></div><p><strong>ä¸ºç¬¬ä¸‰æ–¹æ¨¡å—å£°æ˜ç±»å‹</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// node.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'path'</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">normalize</span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token operator">...</span>paths<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// å¿«é€Ÿå£°æ˜æ¨¡å—ï¼ˆæ­¤æ–¹å¼ä¼šå¯¼è‡´æ¨¡å—ä¸­å¯¼å‡ºçš„æ‰€æœ‰ç±»å‹å˜ä¸º any ç±»å‹ï¼‰</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'path'</span> <span class="token comment">// æ‰€æœ‰åœ¨ path æ¨¡å—ä¸­å¯¼å‡ºçš„ç±»å‹éƒ½ä¸º any</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/basics/event-loop.html" class="prev">
        äº‹ä»¶å¾ªç¯
      </a></span> <span class="next"><a href="/blog/basics/deeply-understand-the-obj.html">
        æ·±å…¥ç†è§£ JS ä¸­çš„å¯¹è±¡
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.c854eaa4.js" defer></script><script src="/blog/assets/js/2.19337781.js" defer></script><script src="/blog/assets/js/15.75b7cd9a.js" defer></script>
  </body>
</html>
