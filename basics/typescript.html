<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | hx&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/img/logo.png">
    <meta name="description" content="hx&#39;s blog">
    <meta name="keywords" content="blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8b6be189.css" as="style"><link rel="preload" href="/blog/assets/js/app.c854eaa4.js" as="script"><link rel="preload" href="/blog/assets/js/2.19337781.js" as="script"><link rel="preload" href="/blog/assets/js/15.75b7cd9a.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3863d362.js"><link rel="prefetch" href="/blog/assets/js/11.f156f3f9.js"><link rel="prefetch" href="/blog/assets/js/12.e74400f5.js"><link rel="prefetch" href="/blog/assets/js/13.683a26f6.js"><link rel="prefetch" href="/blog/assets/js/14.2d137fd8.js"><link rel="prefetch" href="/blog/assets/js/16.3d04e6b0.js"><link rel="prefetch" href="/blog/assets/js/17.f064ad54.js"><link rel="prefetch" href="/blog/assets/js/18.6b1e4a75.js"><link rel="prefetch" href="/blog/assets/js/19.ff554ea9.js"><link rel="prefetch" href="/blog/assets/js/20.9245cc38.js"><link rel="prefetch" href="/blog/assets/js/21.dd92d893.js"><link rel="prefetch" href="/blog/assets/js/22.b50196b2.js"><link rel="prefetch" href="/blog/assets/js/23.da591ccd.js"><link rel="prefetch" href="/blog/assets/js/24.5781a849.js"><link rel="prefetch" href="/blog/assets/js/25.30640b7e.js"><link rel="prefetch" href="/blog/assets/js/26.90f1e3a6.js"><link rel="prefetch" href="/blog/assets/js/27.30948638.js"><link rel="prefetch" href="/blog/assets/js/28.3080c0ac.js"><link rel="prefetch" href="/blog/assets/js/29.78397d42.js"><link rel="prefetch" href="/blog/assets/js/3.4660d5f6.js"><link rel="prefetch" href="/blog/assets/js/30.f1d687d4.js"><link rel="prefetch" href="/blog/assets/js/31.ebc22c81.js"><link rel="prefetch" href="/blog/assets/js/32.5431d4d1.js"><link rel="prefetch" href="/blog/assets/js/33.8b12ea7a.js"><link rel="prefetch" href="/blog/assets/js/34.77315d4a.js"><link rel="prefetch" href="/blog/assets/js/35.9a98afdd.js"><link rel="prefetch" href="/blog/assets/js/36.a40ecf2f.js"><link rel="prefetch" href="/blog/assets/js/37.4244c3fd.js"><link rel="prefetch" href="/blog/assets/js/38.6e17e550.js"><link rel="prefetch" href="/blog/assets/js/39.1a2dfaae.js"><link rel="prefetch" href="/blog/assets/js/4.c3eb0cb1.js"><link rel="prefetch" href="/blog/assets/js/40.73207923.js"><link rel="prefetch" href="/blog/assets/js/41.df4ec3a0.js"><link rel="prefetch" href="/blog/assets/js/42.70dcf9fe.js"><link rel="prefetch" href="/blog/assets/js/43.4e8865db.js"><link rel="prefetch" href="/blog/assets/js/44.21d75db9.js"><link rel="prefetch" href="/blog/assets/js/5.8befe194.js"><link rel="prefetch" href="/blog/assets/js/6.8837a3c6.js"><link rel="prefetch" href="/blog/assets/js/7.e303a933.js"><link rel="prefetch" href="/blog/assets/js/8.2eb2ab50.js"><link rel="prefetch" href="/blog/assets/js/9.15c1af71.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8b6be189.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="hx's blog" class="logo"> <span class="site-name can-hide">hx's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/basics/functional-program.html" class="sidebar-link">浅谈函数式编程</a></li><li><a href="/blog/basics/scope.html" class="sidebar-link">作用域、闭包、this</a></li><li><a href="/blog/basics/event-loop.html" class="sidebar-link">事件循环</a></li><li><a href="/blog/basics/typescript.html" aria-current="page" class="active sidebar-link">TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#基础" class="sidebar-link">基础</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#类型操作" class="sidebar-link">类型操作</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#类型方法" class="sidebar-link">类型方法</a></li><li class="sidebar-sub-header"><a href="/blog/basics/typescript.html#模块" class="sidebar-link">模块</a></li></ul></li><li><a href="/blog/basics/deeply-understand-the-obj.html" class="sidebar-link">深入理解 JS 中的对象</a></li><li><a href="/blog/basics/char-history.html" class="sidebar-link">字符发展史</a></li><li><a href="/blog/basics/gc.html" class="sidebar-link">垃圾回收机制</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue原理篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <ul><li>tsc 编译器默认会对 ts 代码进行降级编译（默认 --target 是 es3）</li> <li>ts 默认会检查函数参数数量（函数调用时，ts 允许 实参 &gt;= 行参）</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 已经 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 岁了</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">)</span> <span class="token comment">// ❌</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token comment">// ✅</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'hjx'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">'hehe'</span><span class="token punctuation">)</span> <span class="token comment">// ✅</span>
</code></pre></div><ul><li>ts 能根据上下文推导出变量类型（可以推导出 this 的类型）</li> <li>类型别名 和 接口的区别（类型别名不能重复声明）</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token string">'hjx'</span>
<span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token string">'cmx'</span>
<span class="token comment">// ❌</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// ✅ 接口名相同会进行类型合并，最后结果为</span>
<span class="token keyword">interface</span> <span class="token class-name">ResultPerson</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>类型断言不允许给明确类型的值断言（否则会报错）</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'hjx'</span> <span class="token keyword">as</span> <span class="token builtin">number</span> <span class="token comment">// ❌</span>
</code></pre></div><ul><li>ts 的类型推导默认只会推导出具体的类型，而非具体的字面量。如果想要让 ts 推导为具体的字面量的值</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token comment">// 推导结果为</span>
<span class="token keyword">type</span> <span class="token class-name">obj</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
<span class="token comment">// 推导结果为</span>
<span class="token keyword">type</span> <span class="token class-name">obj</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token string">'hjx'</span>
  <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>函数类型</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 函数表达式方式声明</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// 类型别名方式声明函数（可以声明具有属性的函数类型）</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  desc<span class="token operator">:</span> <span class="token function">string</span>
  <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过接口声明构造函数（既可以 new，又可以手动调用。类似 Date、String）</span>
<span class="token keyword">interface</span> <span class="token class-name">CallOrConstruct</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Date</span>
  <span class="token punctuation">(</span>n<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数返回类型为 void，表示函数没有返回值。但也可以返回任何类型的值</span>
<span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">const</span> fn<span class="token operator">:</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hehe'</span>
<span class="token punctuation">}</span> <span class="token comment">// 并不会报错，因为这也符合 Fn 类型（这里的 void 表示我不会检查你的返回值）</span>

<span class="token comment">// 但如果显示的告诉 ts 函数存在某个类型的返回值时，那么必须返回对应类型的返回值</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hehe'</span> <span class="token comment">// 报错 Type 'string' is not assignable to type 'void'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>对象类型 interface</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 🌟 readonly 表示将某个属性设置为只读，但仅作用于当前属性，其内部子属性不受影响</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">readonly</span> girlFriend<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// girlFriend 不能修改，girlFriend.name 可以修改</span>

<span class="token comment">// 🌟 index signatures 索引签名，这里的 index 代表的就是索引签名</span>
<span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person1<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span> xxx<span class="token operator">:</span> <span class="token number">1234</span> <span class="token punctuation">}</span> <span class="token comment">// ✅</span>
<span class="token keyword">const</span> person2<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> xxx<span class="token operator">:</span> <span class="token string">'xxx'</span> <span class="token punctuation">}</span> <span class="token comment">// ❌ 和 Person 不存在公共属性</span>

<span class="token comment">// 🌟 extends 继承</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">NameLike</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// extends multiple type 继承多个类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">NameLike</span><span class="token punctuation">,</span> AgeLike <span class="token punctuation">{</span>
  friend<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// 🌟 配合泛型变量</span>
<span class="token keyword">interface</span> <span class="token class-name">Box<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  content<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="类型操作"><a href="#类型操作" class="header-anchor">#</a> 类型操作</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 🌟 Generic Constraints 泛型约束</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">logLen</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token comment">// 🌟 keyof</span>
<span class="token comment">// 将 interface 所有的索引类型组成一个联合类型返回</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Key</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person <span class="token comment">// === type Key = 'name' | string | number</span>
<span class="token comment">// 这里之所以存在 number 类型，是因为 Person 类型的属性也可以通过数字下标访问</span>

<span class="token comment">// 🌟 typeof</span>
<span class="token comment">// 返回 ts 推到出来的类型，但这里需要注意的是。typeof 作用在基础类型的值身上时</span>
<span class="token comment">// 他的推到会因为声明语法（let，const）的变化推到发生变化</span>
<span class="token keyword">const</span> name1 <span class="token operator">=</span> <span class="token string">'hjx'</span>
<span class="token keyword">let</span> name2 <span class="token operator">=</span> <span class="token string">'cmx'</span>
<span class="token keyword">type</span> <span class="token class-name">Name1</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> name1 <span class="token comment">// Name1 = 'hjx' 对于 const 基础类型，推到出来的就是常量值</span>
<span class="token keyword">type</span> <span class="token class-name">Name2</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> name2 <span class="token comment">// Name2 = string</span>
<span class="token comment">// ⚠️ typeof 后面紧跟具体的变量，不支持运算 typeof fn() ❌</span>

<span class="token comment">// 🌟 ReturnType&lt;Fn&gt;</span>
<span class="token comment">// 返回 Fn 函数类型返回的类型。</span>
<span class="token comment">// ⚠️ 这里的 Fn 是函数类型，并非函数</span>

<span class="token comment">// 🌟 索引类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">NameKey</span> <span class="token operator">=</span> <span class="token string">'name'</span>
<span class="token keyword">type</span> <span class="token class-name">MyString1</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span>NameKey<span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">MyString2</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
<span class="token comment">// 注意：使用索引类型时，索引必须是具体的一个类型，这里的 'name' 代表的是字面量类型 'name',</span>
<span class="token comment">// 而并非字符串 'name'，如果使用字符串 'name', ts 将会给你抛出一个错误</span>
<span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token string">'name'</span>
<span class="token keyword">type</span> <span class="token class-name">MyString3</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// error</span>
<span class="token comment">// 'key' refers to a value, but is being used as a type here. Did you mean 'typeof key'?</span>

<span class="token comment">// 🌟 条件类型</span>
<span class="token keyword">type</span> <span class="token class-name">NameOrId<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span>
  <span class="token operator">?</span> IdLabel
  <span class="token operator">:</span> NameLabel

<span class="token comment">// 🌟 inter（条件泛型）</span>
<span class="token keyword">type</span> <span class="token class-name">Flatten<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Type <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> Item<span class="token operator">&gt;</span></span> <span class="token operator">?</span> Item <span class="token operator">:</span> Type

<span class="token comment">// 🌟 字符串操作类型</span>
Uppercase<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// 大写</span>
Lowercase<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// 小写</span>
Capitalize<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// 首字母大写</span>
Uncapitalize<span class="token operator">&lt;</span>StringType<span class="token operator">&gt;</span> <span class="token comment">// 首字母小写</span>
</code></pre></div><h2 id="类型方法"><a href="#类型方法" class="header-anchor">#</a> 类型方法</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Pick Omit</span>
<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">say</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">play</span><span class="token punctuation">(</span>think<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">NoAgePerson</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">&gt;</span> <span class="token comment">// ===</span>
<span class="token keyword">type</span> <span class="token class-name">NoAgePerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">say</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">play</span><span class="token punctuation">(</span>think<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">OnlyNamePerson</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span> <span class="token comment">// ===</span>
<span class="token keyword">type</span> <span class="token class-name">OnlyNamePerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
</code></pre></div><p>更多类型方法 <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#awaitedtype" target="_blank" rel="noopener noreferrer">ts docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="模块"><a href="#模块" class="header-anchor">#</a> 模块</h2> <p><strong>导入模块中的类型</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 仅仅导出类型</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> createCatName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./animal.js'</span>
<span class="token comment">// Inline type imports</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createCatName<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Cat</span><span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Dog</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./animal.js'</span>
</code></pre></div><p><strong>为第三方模块声明类型</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// node.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'path'</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">normalize</span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token operator">...</span>paths<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 快速声明模块（此方式会导致模块中导出的所有类型变为 any 类型）</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'path'</span> <span class="token comment">// 所有在 path 模块中导出的类型都为 any</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/basics/event-loop.html" class="prev">
        事件循环
      </a></span> <span class="next"><a href="/blog/basics/deeply-understand-the-obj.html">
        深入理解 JS 中的对象
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.c854eaa4.js" defer></script><script src="/blog/assets/js/2.19337781.js" defer></script><script src="/blog/assets/js/15.75b7cd9a.js" defer></script>
  </body>
</html>
