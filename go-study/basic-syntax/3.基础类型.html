<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 整型 | hx&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blog/img/logo.png">
    <meta name="description" content="hx&#39;s blog">
    <meta name="keywords" content="blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.bd89e446.css" as="style"><link rel="preload" href="/blog/assets/js/app.17aef99c.js" as="script"><link rel="preload" href="/blog/assets/js/2.cb836bf6.js" as="script"><link rel="preload" href="/blog/assets/js/1.085f3e10.js" as="script"><link rel="preload" href="/blog/assets/js/69.09eb9f27.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.132265ea.js"><link rel="prefetch" href="/blog/assets/js/100.87e266af.js"><link rel="prefetch" href="/blog/assets/js/101.336e1d71.js"><link rel="prefetch" href="/blog/assets/js/102.23c45a7d.js"><link rel="prefetch" href="/blog/assets/js/103.9ef43646.js"><link rel="prefetch" href="/blog/assets/js/104.226a1337.js"><link rel="prefetch" href="/blog/assets/js/105.2b1d886c.js"><link rel="prefetch" href="/blog/assets/js/106.06cec04a.js"><link rel="prefetch" href="/blog/assets/js/107.08ea5478.js"><link rel="prefetch" href="/blog/assets/js/108.d59d457d.js"><link rel="prefetch" href="/blog/assets/js/109.8f2e6072.js"><link rel="prefetch" href="/blog/assets/js/11.e2e1fd76.js"><link rel="prefetch" href="/blog/assets/js/110.e34fcad1.js"><link rel="prefetch" href="/blog/assets/js/111.840b7465.js"><link rel="prefetch" href="/blog/assets/js/112.493ca7af.js"><link rel="prefetch" href="/blog/assets/js/113.db891864.js"><link rel="prefetch" href="/blog/assets/js/114.b46d1481.js"><link rel="prefetch" href="/blog/assets/js/115.c48c2cf3.js"><link rel="prefetch" href="/blog/assets/js/116.c62a2f61.js"><link rel="prefetch" href="/blog/assets/js/117.8f7bf0ad.js"><link rel="prefetch" href="/blog/assets/js/118.65f726f0.js"><link rel="prefetch" href="/blog/assets/js/119.84355618.js"><link rel="prefetch" href="/blog/assets/js/12.96baac6c.js"><link rel="prefetch" href="/blog/assets/js/120.6d334245.js"><link rel="prefetch" href="/blog/assets/js/121.186ee6e8.js"><link rel="prefetch" href="/blog/assets/js/122.e98c1d5f.js"><link rel="prefetch" href="/blog/assets/js/123.89739157.js"><link rel="prefetch" href="/blog/assets/js/124.ad929e7c.js"><link rel="prefetch" href="/blog/assets/js/13.fbabcd1a.js"><link rel="prefetch" href="/blog/assets/js/14.ca9d2157.js"><link rel="prefetch" href="/blog/assets/js/15.b3cb30d2.js"><link rel="prefetch" href="/blog/assets/js/16.5023d750.js"><link rel="prefetch" href="/blog/assets/js/17.32813d1e.js"><link rel="prefetch" href="/blog/assets/js/18.5ff6a1ac.js"><link rel="prefetch" href="/blog/assets/js/19.aa6eb975.js"><link rel="prefetch" href="/blog/assets/js/20.910441bb.js"><link rel="prefetch" href="/blog/assets/js/21.463273f4.js"><link rel="prefetch" href="/blog/assets/js/22.41f6992a.js"><link rel="prefetch" href="/blog/assets/js/23.acb88560.js"><link rel="prefetch" href="/blog/assets/js/24.d919972d.js"><link rel="prefetch" href="/blog/assets/js/25.948301e9.js"><link rel="prefetch" href="/blog/assets/js/26.3df0024e.js"><link rel="prefetch" href="/blog/assets/js/27.08710af5.js"><link rel="prefetch" href="/blog/assets/js/28.002665e7.js"><link rel="prefetch" href="/blog/assets/js/29.fd12f9c0.js"><link rel="prefetch" href="/blog/assets/js/3.272f2022.js"><link rel="prefetch" href="/blog/assets/js/30.2c49756d.js"><link rel="prefetch" href="/blog/assets/js/31.c03c4098.js"><link rel="prefetch" href="/blog/assets/js/32.52e46944.js"><link rel="prefetch" href="/blog/assets/js/33.437d563c.js"><link rel="prefetch" href="/blog/assets/js/34.ba907a65.js"><link rel="prefetch" href="/blog/assets/js/35.3d6ecd51.js"><link rel="prefetch" href="/blog/assets/js/36.4dee6b56.js"><link rel="prefetch" href="/blog/assets/js/37.dc23dca3.js"><link rel="prefetch" href="/blog/assets/js/38.932834e6.js"><link rel="prefetch" href="/blog/assets/js/39.51ed60ff.js"><link rel="prefetch" href="/blog/assets/js/4.334133bf.js"><link rel="prefetch" href="/blog/assets/js/40.ce997613.js"><link rel="prefetch" href="/blog/assets/js/41.4c78ba89.js"><link rel="prefetch" href="/blog/assets/js/42.e30c862b.js"><link rel="prefetch" href="/blog/assets/js/43.9cd590d2.js"><link rel="prefetch" href="/blog/assets/js/44.f1f58583.js"><link rel="prefetch" href="/blog/assets/js/45.55cb9902.js"><link rel="prefetch" href="/blog/assets/js/46.6ce65e52.js"><link rel="prefetch" href="/blog/assets/js/47.0b921444.js"><link rel="prefetch" href="/blog/assets/js/48.a12fcac7.js"><link rel="prefetch" href="/blog/assets/js/49.c45d1ce2.js"><link rel="prefetch" href="/blog/assets/js/5.cd02e7c3.js"><link rel="prefetch" href="/blog/assets/js/50.6c9af9d5.js"><link rel="prefetch" href="/blog/assets/js/51.cc1f531f.js"><link rel="prefetch" href="/blog/assets/js/52.d730ce51.js"><link rel="prefetch" href="/blog/assets/js/53.ff3371f3.js"><link rel="prefetch" href="/blog/assets/js/54.312693e1.js"><link rel="prefetch" href="/blog/assets/js/55.6323f7a9.js"><link rel="prefetch" href="/blog/assets/js/56.fb3138c3.js"><link rel="prefetch" href="/blog/assets/js/57.1eb1c67e.js"><link rel="prefetch" href="/blog/assets/js/58.8d274b37.js"><link rel="prefetch" href="/blog/assets/js/59.7bc03ba2.js"><link rel="prefetch" href="/blog/assets/js/6.e5fe1b30.js"><link rel="prefetch" href="/blog/assets/js/60.fabcb705.js"><link rel="prefetch" href="/blog/assets/js/61.526013ca.js"><link rel="prefetch" href="/blog/assets/js/62.26d018f0.js"><link rel="prefetch" href="/blog/assets/js/63.db1ffe1f.js"><link rel="prefetch" href="/blog/assets/js/64.d0ab1f5a.js"><link rel="prefetch" href="/blog/assets/js/65.0555c9a5.js"><link rel="prefetch" href="/blog/assets/js/66.dc45ca7a.js"><link rel="prefetch" href="/blog/assets/js/67.fd136b72.js"><link rel="prefetch" href="/blog/assets/js/68.3c2a726f.js"><link rel="prefetch" href="/blog/assets/js/7.a113ee55.js"><link rel="prefetch" href="/blog/assets/js/70.b01d7c4a.js"><link rel="prefetch" href="/blog/assets/js/71.46a9b726.js"><link rel="prefetch" href="/blog/assets/js/72.711192ac.js"><link rel="prefetch" href="/blog/assets/js/73.bfd617cb.js"><link rel="prefetch" href="/blog/assets/js/74.0a3e4d92.js"><link rel="prefetch" href="/blog/assets/js/75.2189e9e9.js"><link rel="prefetch" href="/blog/assets/js/76.75fd4c5a.js"><link rel="prefetch" href="/blog/assets/js/77.ad54a3d9.js"><link rel="prefetch" href="/blog/assets/js/78.0b149934.js"><link rel="prefetch" href="/blog/assets/js/79.e2818b62.js"><link rel="prefetch" href="/blog/assets/js/80.d471139e.js"><link rel="prefetch" href="/blog/assets/js/81.2c8b4887.js"><link rel="prefetch" href="/blog/assets/js/82.3f6e54df.js"><link rel="prefetch" href="/blog/assets/js/83.fc352eb5.js"><link rel="prefetch" href="/blog/assets/js/84.01784d87.js"><link rel="prefetch" href="/blog/assets/js/85.933c1326.js"><link rel="prefetch" href="/blog/assets/js/86.5fc5355d.js"><link rel="prefetch" href="/blog/assets/js/87.834b44f5.js"><link rel="prefetch" href="/blog/assets/js/88.c63cb84e.js"><link rel="prefetch" href="/blog/assets/js/89.41ce46ef.js"><link rel="prefetch" href="/blog/assets/js/90.2af565e9.js"><link rel="prefetch" href="/blog/assets/js/91.34c21365.js"><link rel="prefetch" href="/blog/assets/js/92.dfd4daa9.js"><link rel="prefetch" href="/blog/assets/js/93.419e354f.js"><link rel="prefetch" href="/blog/assets/js/94.b89c5d96.js"><link rel="prefetch" href="/blog/assets/js/95.0ac99a30.js"><link rel="prefetch" href="/blog/assets/js/96.5f057ab1.js"><link rel="prefetch" href="/blog/assets/js/97.cde62186.js"><link rel="prefetch" href="/blog/assets/js/98.65d1a4a1.js"><link rel="prefetch" href="/blog/assets/js/99.3a369f28.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.9268c32e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.bd89e446.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="hx's blog" class="logo"> <span class="site-name can-hide">hx's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/returnMaize/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>红宝书（第四版）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue原理篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>go</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/go-study/basic-syntax/1.基础.html" class="sidebar-link">基础</a></li><li><a href="/blog/go-study/basic-syntax/2.变量.html" class="sidebar-link">变量</a></li><li><a href="/blog/go-study/basic-syntax/3.基础类型.html" class="active sidebar-link">基础类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/go-study/basic-syntax/3.基础类型.html#_4-1-utf-8-和-unicode-有何区别" class="sidebar-link">4.1 UTF-8 和 Unicode 有何区别？</a></li><li class="sidebar-sub-header"><a href="/blog/go-study/basic-syntax/3.基础类型.html#_5-1-字符串的应用" class="sidebar-link">5.1 字符串的应用</a></li><li class="sidebar-sub-header"><a href="/blog/go-study/basic-syntax/3.基础类型.html#_6-1-修改字符串" class="sidebar-link">6.1 修改字符串</a></li></ul></li><li><a href="/blog/go-study/basic-syntax/4.指针-类型转换.html" class="sidebar-link">指针-类型转换</a></li><li><a href="/blog/go-study/basic-syntax/5.复杂数据类型.html" class="sidebar-link">复杂数据类型</a></li><li><a href="/blog/go-study/basic-syntax/6.语句.html" class="sidebar-link">语句</a></li><li><a href="/blog/go-study/basic-syntax/7.函数-defer-错误.html" class="sidebar-link">函数-defer-错误</a></li><li><a href="/blog/go-study/basic-syntax/8.结构体.html" class="sidebar-link">结构体</a></li><li><a href="/blog/go-study/basic-syntax/9.接口-IO.html" class="sidebar-link">接口-IO</a></li><li><a href="/blog/go-study/basic-syntax/10.包.html" class="sidebar-link">包</a></li><li><a href="/blog/go-study/basic-syntax/11.并发-管道-锁.html" class="sidebar-link">并发-管道-锁</a></li><li><a href="/blog/go-study/basic-syntax/12.网络.html" class="sidebar-link">网络</a></li><li><a href="/blog/go-study/basic-syntax/13.mysql-redis.html" class="sidebar-link">mysql-redis</a></li><li><a href="/blog/go-study/basic-lib/01-fmt标准库/01.html" class="sidebar-link">fmt标准库</a></li><li><a href="/blog/go-study/basic-lib/02-os标准库/02.html" class="sidebar-link">os标准库</a></li><li><a href="/blog/go-study/basic-lib/03-time标准库/03.html" class="sidebar-link">time标准库</a></li><li><a href="/blog/go-study/basic-lib/04-log标准库/04.html" class="sidebar-link">log标准库</a></li><li><a href="/blog/go-study/basic-lib/05-errors标准库/05.html" class="sidebar-link">errors标准库</a></li><li><a href="/blog/go-study/basic-lib/06-bytes标准库/06.html" class="sidebar-link">bytes标准库</a></li><li><a href="/blog/go-study/basic-lib/07-io标准库/07.html" class="sidebar-link">io标准库</a></li><li><a href="/blog/go-study/basic-lib/08-ioutil标准库/08.html" class="sidebar-link">ioutil标准库</a></li><li><a href="/blog/go-study/basic-lib/09-bufio标准库/09.html" class="sidebar-link">bufio标准库</a></li><li><a href="/blog/go-study/basic-lib/10-builtin标准库/10.html" class="sidebar-link">builtin标准库</a></li><li><a href="/blog/go-study/basic-lib/11-json标准库/11.html" class="sidebar-link">json标准库</a></li><li><a href="/blog/go-study/basic-lib/12-sort标准库/12.html" class="sidebar-link">sort标准库</a></li><li><a href="/blog/go-study/basic-lib/13-math标准库/13.html" class="sidebar-link">math标准库</a></li><li><a href="/blog/go-study/basic-lib/14-flag标准库/14.html" class="sidebar-link">flag标准库</a></li><li><a href="/blog/go-study/basic-lib/15-runtime标准库/15.html" class="sidebar-link">runtime标准库</a></li><li><a href="/blog/go-study/basic-lib/16-context标准库/16.html" class="sidebar-link">context标准库</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-整型"><a href="#_1-整型" class="header-anchor">#</a> 1. 整型</h1> <p>Go语言同时提供了有符号和无符号的整数类型。</p> <ul><li>有符号整型：int、int8、int64、int32、int64</li> <li>无符号整型：uint、uint8、uint64、uint32、uint64、uintptr</li></ul> <blockquote><p>有符号整型范围：<code>-2^(n-1) 到 2^(n-1)-1</code></p> <p>无符号整型范围: <code>0 到 2^n-1</code></p></blockquote> <p><strong>实际开发中由于编译器和计算机硬件的不同，int 和 uint 所能表示的整数大小会在 32bit 或 64bit 之间变化。</strong></p> <blockquote><p>uint在硬件开发中使用</p></blockquote> <p>用来表示 Unicode 字符的 <code>rune 类型</code>和 <code>int32 类型</code>是等价的，通常用于表示一个 <code>Unicode 码点</code>。这两个名称可以互换使用。同样，<code>byte</code> 和 <code>uint8</code> 也是等价类型，byte 类型一般用于强调数值是一个<code>原始的数据</code>而不是一个小的整数。</p> <blockquote><p>无符号的整数类型 <code>uintptr</code>，它没有指定具体的 bit 大小但是足以容纳指针。uintptr 类型只有在<code>底层编程</code>时才需要，特别是Go语言和C语言函数库或操作系统接口相交互的地方。</p></blockquote> <p><strong>在二进制传输、读写文件的结构描述时，为了保持文件的结构不会受到不同编译目标平台字节长度的影响，不要使用 int 和 uint</strong></p> <h1 id="_2-浮点型"><a href="#_2-浮点型" class="header-anchor">#</a> 2. 浮点型</h1> <p>Go语言支持两种浮点型数：</p> <ol><li><code>float32</code> ： 范围 约1.4e-45 到 约3.4e38</li> <li><code>float64</code> ：范围约4.9e-324 到 约1.8e308</li></ol> <div class="language-go extra-class"><pre class="language-go"><code>floatStr1 <span class="token operator">:=</span> <span class="token number">3.2</span>
<span class="token comment">//保留小数点位数</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.2f\n&quot;</span><span class="token punctuation">,</span> floatStr1<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>算术规范由 IEEE754 浮点数国际标准定义，该浮点数规范被所有现代的 CPU 支持</p></blockquote> <p><strong>通常应该优先使用 float64 类型，因为 float32 类型的累计计算误差很容易扩散，并且 float32 能精确表示的正整数并不是很大。</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> f <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span><span class="token punctuation">;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f <span class="token operator">==</span> f<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>浮点数在声明的时候可以只写整数部分或者小数部分</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">.71828</span> <span class="token comment">// 0.71828</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token number">1.</span>     <span class="token comment">// 1</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.5f,%.1f&quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">,</span>f<span class="token punctuation">)</span>
</code></pre></div><p><strong>很小或很大的数最好用科学计数法书写，通过 e 或 E 来指定指数部分</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> avogadro <span class="token operator">=</span> <span class="token number">6.02214129e23</span>  <span class="token comment">// 阿伏伽德罗常数</span>
<span class="token keyword">var</span> planck   <span class="token operator">=</span> <span class="token number">6.62606957e-34</span> <span class="token comment">// 普朗克常数</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f,%.35f&quot;</span><span class="token punctuation">,</span>avogadro<span class="token punctuation">,</span>planck<span class="token punctuation">)</span>
</code></pre></div><h1 id="_3-布尔型"><a href="#_3-布尔型" class="header-anchor">#</a> 3. 布尔型</h1> <p>在Go语言中，以bool类型进行声明：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> 变量名 <span class="token builtin">bool</span>
</code></pre></div><p><code>==</code>,<code>&gt;</code>,<code>&lt;</code>，<code>&lt;=</code>, <code>&gt;=</code>,<code>&amp;&amp;(AND)</code>,<code>||(OR)</code>等都会产生bool值</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> aVar <span class="token operator">=</span> <span class="token number">10</span>
aVar <span class="token operator">==</span> <span class="token number">5</span>  <span class="token comment">// false</span>
aVar <span class="token operator">==</span> <span class="token number">10</span> <span class="token comment">// true</span>
aVar <span class="token operator">!=</span> <span class="token number">5</span>  <span class="token comment">// true</span>
aVar <span class="token operator">!=</span> <span class="token number">10</span> <span class="token comment">// false</span>
</code></pre></div><blockquote><p>Go语言对于值之间的比较有非常严格的限制，只有两个相同类型的值才可以进行比较，如果值的类型是接口（interface），那么它们也必须都实现了相同的接口。</p> <p>如果其中一个值是<code>常量</code>，那么另外一个值可以不是常量，但是类型必须和该常量类型相同。</p> <p>如果以上条件都不满足，则必须将其中一个值的类型转换为和另外一个值的类型相同之后才可以进行比较。</p></blockquote> <p><code>&amp;&amp;(AND)</code>,<code>||(OR)</code>是具有短路行为的，如果运算符左边的值已经可以确定整个布尔表达式的值，那么运算符右边的值将不再被求值。(&amp;&amp;优先级高于||)</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
	<span class="token comment">//因为a&gt;11已经不满足了，所以a &lt; 30不会走，整个表达式为false</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;正确&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//因为a &gt; 5已经满足了，所以a &lt; 30不会走，整个表达式为true</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">||</span> a <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;正确&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>布尔型数据只有true和false，且不能参与任何计算以及类型转换</strong></p> <h1 id="_4-字符类型"><a href="#_4-字符类型" class="header-anchor">#</a> 4. 字符类型</h1> <p>Go语言的字符有以下两种：</p> <ul><li>一种是 uint8 类型，或者叫 byte 型，代表了 ASCII 码的一个字符。</li> <li>另一种是 rune 类型，代表一个 UTF-8 字符，当需要处理中文、日文或者其他复合字符时，则需要用到 rune 类型。rune 类型等价于 int32 类型。</li></ul> <p><strong>byte 类型是 uint8 的别名，rune 类型是int32的别名</strong></p> <p><strong>ASCII 码的一个字符占一个字节</strong></p> <p><strong>ASCII</strong> 定义 128 个字符，由码位 0 – 127 标识。它涵盖英文字母，拉丁数字和其他一些字符。</p> <p>字符的定义：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//使用单引号 表示一个字符</span>
<span class="token keyword">var</span> ch <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'A'</span>
<span class="token comment">//在 ASCII 码表中，A 的值是 65,也可以这么定义</span>
<span class="token keyword">var</span> ch <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">65</span>
<span class="token comment">//65使用十六进制表示是41，所以也可以这么定义 \x 总是紧跟着长度为 2 的 16 进制数</span>
<span class="token keyword">var</span> ch <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'\x41'</span>
<span class="token comment">//65的八进制表示是101，所以使用八进制定义 \后面紧跟着长度为 3 的八进制数</span>
<span class="token keyword">var</span> ch <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'\101'</span>

fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span>ch<span class="token punctuation">)</span>
</code></pre></div><p><strong>Unicode</strong> 是 ASCII 的超集，它定义了 1,114,112 个代码点的代码空间。 Unicode 版本 10.0 涵盖 139 个现代和历史文本集（包括符文字母，但不包括 Klingon ）以及多个符号集。</p> <p>Go语言同样支持 Unicode（UTF-8）, <code>用rune来表示</code>, 在内存中使用 int 来表示。</p> <p>在书写 Unicode 字符时，需要在 16 进制数之前加上前缀<code>\u</code>或者<code>\U</code>。如果需要使用到 4 字节，则使用<code>\u</code>前缀，如果需要使用到 8 个字节，则使用<code>\U</code>前缀。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> ch <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'\u0041'</span>
	<span class="token keyword">var</span> ch1 <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token char">'\U00000041'</span>
	<span class="token comment">//格式化说明符%c用于表示字符，%v或%d会输出用于表示该字符的整数，%U输出格式为 U+hhhh 的字符串。</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c,%c,%U&quot;</span><span class="token punctuation">,</span>ch<span class="token punctuation">,</span>ch1<span class="token punctuation">,</span>ch<span class="token punctuation">)</span>
</code></pre></div><p>Unicode 包中内置了一些用于测试字符的函数，这些函数的返回值都是一个布尔值，如下所示（其中 ch 代表字符）：</p> <ul><li>判断是否为字母：unicode.IsLetter(ch)</li> <li>判断是否为数字：unicode.IsDigit(ch)</li> <li>判断是否为空白符号：unicode.IsSpace(ch)</li></ul> <h2 id="_4-1-utf-8-和-unicode-有何区别"><a href="#_4-1-utf-8-和-unicode-有何区别" class="header-anchor">#</a> 4.1 UTF-8 和 Unicode 有何区别？</h2> <p>Unicode 与 ASCII 类似，都是一种字符集。</p> <p>字符集为每个字符分配一个唯一的 ID，我们使用到的所有字符在 Unicode 字符集中都有一个唯一的 ID，例如 a 在 Unicode 与 ASCII 中的编码都是 97。汉字“你”在 Unicode 中的编码为 20320，在不同国家的字符集中，字符所对应的 ID 也会不同。而无论任何情况下，Unicode 中的字符的 ID 都是不会变化的。</p> <p>UTF-8 是编码规则，将 Unicode 中字符的 ID 以某种方式进行编码，UTF-8 的是一种变长编码规则，从 1 到 4 个字节不等。编码规则如下：</p> <ul><li>0xxxxxx 表示文字符号 0～127，兼容 ASCII 字符集。</li> <li>从 128 到 0x10ffff 表示其他字符。</li></ul> <p>根据这个规则，拉丁文语系的字符编码一般情况下每个字符占用一个字节，而中文每个字符占用 3 个字节。</p> <p>广义的 Unicode 指的是一个标准，它定义了字符集及编码规则，即 Unicode 字符集和 UTF-8、UTF-16 编码等。</p> <h1 id="_5-字符串型"><a href="#_5-字符串型" class="header-anchor">#</a> 5. 字符串型</h1> <p>一个字符串是一个不可改变的字节序列，字符串可以包含任意的数据，但是通常是用来包含可读的文本，字符串是 UTF-8 字符的一个序列。</p> <p>字符串的定义：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> mystr <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
</code></pre></div><p><strong>go语言从底层就支持UTF-8编码。</strong></p> <blockquote><p>UTF-8 是一种被广泛使用的编码格式，是文本文件的标准编码。</p> <p>由于该编码对占用字节长度的不定性，在Go语言中字符串也可能根据需要占用 1 至 4 个字节，这与其它编程语言不同。</p> <p>Go语言这样做不仅减少了内存和硬盘空间占用，同时也不用像其它语言那样需要对使用 UTF-8 字符集的文本进行编码和解码。</p></blockquote> <p><code>字符串是一种值类型，且值不可变，即创建某个文本后将无法再次修改这个文本的内容。</code></p> <p><code>当字符为 ASCII 码表上的字符时则占用 1 个字节</code></p> <p><strong>字符串中可以使用转义字符来实现换行、缩进等效果，常用的转义字符包括:</strong></p> <ol><li><code>\n：</code>换行符</li> <li><code>\r：</code>回车符</li> <li><code>\t：</code>tab 键</li> <li><code>\u 或 \U：</code>Unicode 字符</li> <li>\：反斜杠自身</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;ms的go教程\nGo大法好&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>如果使用``反引号，会被原样进行赋值和输出</p></blockquote> <div class="language-go extra-class"><pre class="language-go"><code> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`\t ms的go教程Go大法好`</span><span class="token punctuation">)</span>  <span class="token comment">// \t ms的go教程Go大法好</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`\t ms的go教程
 Go大法好`</span><span class="token punctuation">)</span> <span class="token comment">//使用反引号 可以进行字符串换行</span>
<span class="token comment">//反引号一般用在 需要将内容进行原样输出的时候 使用</span>
</code></pre></div><p><strong>字符串是字节的定长数组，byte 和 rune 都是字符类型，若多个字符放在一起，就组成了字符串</strong></p> <p>比如 <code>hello</code> ，对照 ascii 编码表，每个字母对应的编号是：104,101,108,108,111</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> mystr01 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token keyword">var</span> mystr02 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;myStr01: %s\n&quot;</span><span class="token punctuation">,</span> mystr01<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;myStr02: %s&quot;</span><span class="token punctuation">,</span> mystr02<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>思考：hello，ms的go教程 占用几个字节</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">//中文三字节，字母一个字节</span>
<span class="token keyword">var</span> myStr01 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello,ms的go教程&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;mystr01: %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myStr01<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-1-字符串的应用"><a href="#_5-1-字符串的应用" class="header-anchor">#</a> 5.1 字符串的应用</h2> <p>一般的比较运算符（==、!=、&lt;、&lt;=、&gt;=、&gt;）是通过在内存中按字节比较来实现字符串比较的，因此比较的结果是字符串自然编码的顺序。</p> <p>字符串所占的字节长度可以通过函数 len() 来获取，例如 len(str)。</p> <p>字符串的内容（纯字节）可以通过标准索引法来获取，在方括号<code>[ ]</code>内写入索引，索引从 0 开始计数：</p> <ul><li>字符串 str 的第 1 个字节：str[0]</li> <li>第 i 个字节：str[i - 1]</li> <li>最后 1 个字节：str[len(str)-1]</li></ul> <p>需要注意的是，这种转换方案只对纯 ASCII 码的字符串有效。</p> <blockquote><p>注意：获取字符串中某个字节的地址属于非法行为，例如 &amp;str[i]。</p></blockquote> <p>ASCII字符使用<code>len()</code>函数</p> <p>Unicode字符串长度使用<code>utf8.RuneCountInString()</code>函数</p> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token comment">//如何计算字符串的长度</span>
    str3 <span class="token operator">:=</span> <span class="token string">&quot;hello&quot;</span>
    str4 <span class="token operator">:=</span> <span class="token string">&quot;你好&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 1个字母占1个字节</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 1个中文占3个字节，go从底层支持utf8</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>utf8<span class="token punctuation">.</span><span class="token function">RuneCountInString</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p><strong>字符串拼接符“+”</strong></p> <p>两个字符串 s1 和 s2 可以通过 s := s1 + s2 拼接在一起。将 s2 追加到 s1 尾部并生成一个新的字符串 s。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//因为编译器会在行尾自动补全分号，所以拼接字符串用的加号“+”必须放在第一行末尾。</span>
	str <span class="token operator">:=</span> <span class="token string">&quot;第一部分 &quot;</span> <span class="token operator">+</span>
		<span class="token string">&quot;第二部分&quot;</span>
</code></pre></div><p>也可以使用“+=”来对字符串进行拼接：</p> <div class="language-go extra-class"><pre class="language-go"><code>s <span class="token operator">:=</span> <span class="token string">&quot;hel&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;lo,&quot;</span>
s <span class="token operator">+=</span> <span class="token string">&quot;world!&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">//输出 “hello, world!”</span>
</code></pre></div><p>除了使用<code>+</code>进行拼接，我们也可以使用<code>WriteString()</code></p> <div class="language-go extra-class"><pre class="language-go"><code>	str1 <span class="token operator">:=</span> <span class="token string">&quot;你好,&quot;</span>
	str2 <span class="token operator">:=</span> <span class="token string">&quot;ms的go教程&quot;</span>
	<span class="token keyword">var</span> stringBuilder bytes<span class="token punctuation">.</span>Buffer
	<span class="token comment">//节省内存分配，提高处理效率</span>
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>如果从字符串 <code>hello ms的go教程</code> 中获取 <code>码</code> 该如何获取呢？</strong></p> <p>直接索引对rune类型无效，可以使用string方法转换</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str6<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> myStr01 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello,ms的go教程&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>myStr01<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>遍历</strong></p> <p>unicode字符集使用<code>for range</code>进行遍历，ascii字符集可以使用<code>for range</code>或者<code>for</code>循环遍历</p> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
	<span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello,ms的go教程&quot;</span>
	<span class="token comment">// 遍历</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;ascii: %c %d\n&quot;</span><span class="token punctuation">,</span> str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span>  str1<span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;unicode: %c %d\n &quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 中文只能用 for range</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span>  str2<span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;unicode: %c %d\n &quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>字符串的格式化</strong></p> <ul><li><code>print ：</code> 结果写到标准输出</li> <li><code>Sprint：</code>结果会以字符串形式返回</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>	str1 <span class="token operator">:=</span> <span class="token string">&quot;你好,&quot;</span>
	str2 <span class="token operator">:=</span> <span class="token string">&quot;ms的go教程&quot;</span>
	<span class="token keyword">var</span> stringBuilder bytes<span class="token punctuation">.</span>Buffer
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>
<span class="token comment">// Sprint 以字符串形式返回</span>
result <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token operator">%</span>c  单一字符
<span class="token operator">%</span>T  动态类型
<span class="token operator">%</span>v  本来值的输出
<span class="token operator">%</span><span class="token operator">+</span>v 字段名<span class="token operator">+</span>值打印
<span class="token operator">%</span>d  十进制打印数字
<span class="token operator">%</span>p  指针，十六进制
<span class="token operator">%</span>f  浮点数
<span class="token operator">%</span>b 二进制
<span class="token operator">%</span>s <span class="token builtin">string</span>
</code></pre></div><p><strong>字符串查找</strong></p> <p>如何获取字符串中的某一段字符?</p> <ul><li>strings.Index()： 正向搜索子字符串</li> <li>strings.LastIndex()：反向搜索子字符串</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 查找</span>
	tracer <span class="token operator">:=</span> <span class="token string">&quot;张三来了,张三bye bye&quot;</span>

	<span class="token comment">// 正向搜索字符串</span>
	comma <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;,所在的位置:&quot;</span><span class="token punctuation">,</span>comma<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tracer<span class="token punctuation">[</span>comma<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 张三bye bye</span>

	add <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;+所在的位置:&quot;</span><span class="token punctuation">,</span>add<span class="token punctuation">)</span>  <span class="token comment">// +所在的位置: -1</span>

	pos <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">[</span>comma<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;张三，所在的位置&quot;</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span> <span class="token comment">// 张三，所在的位置 1</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>comma<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> tracer<span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">+</span>pos<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 12 1 张三bye bye</span>
<span class="token punctuation">}</span>

</code></pre></div><h1 id="_6-类型转换"><a href="#_6-类型转换" class="header-anchor">#</a> 6. 类型转换</h1> <p>在必要以及可行的情况下，一个类型的值可以被转换成另一种类型的值。由于Go语言不存在隐式类型转换，因此所有的类型转换都必须显式的声明：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//类型 B 的值 = 类型 B(类型 A 的值)</span>
valueOfTypeB <span class="token operator">=</span> <span class="token keyword">type</span> <span class="token function">B</span><span class="token punctuation">(</span>valueOfTypeA<span class="token punctuation">)</span>
</code></pre></div><p>示例：</p> <div class="language-go extra-class"><pre class="language-go"><code>a <span class="token operator">:=</span> <span class="token number">5.0</span>
b <span class="token operator">:=</span> <span class="token function">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><p>类型转换只能在定义正确的情况下转换成功，例如从一个取值范围较小的类型转换到一个取值范围较大的类型（将 int16 转换为 int32）。</p> <p>当从一个取值范围较大的类型转换到取值范围较小的类型时（将 int32 转换为 int16 或将 float32 转换为 int），会发生<code>精度丢失</code>的情况。</p> <p>只有相同底层类型的变量之间可以进行相互转换（如将 int16 类型转换成 int32 类型），不同底层类型的变量相互转换时会引发编译错误（如将 bool 类型转换为 int 类型）：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
        <span class="token string">&quot;fmt&quot;</span>
        <span class="token string">&quot;math&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 输出各数值范围</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int8 range:&quot;</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt8<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt8<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int16 range:&quot;</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt16<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt16<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int32 range:&quot;</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt32<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt32<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int64 range:&quot;</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt64<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt64<span class="token punctuation">)</span>
        <span class="token comment">// 初始化一个32位整型值</span>
        <span class="token keyword">var</span> a <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">1047483647</span>
        <span class="token comment">// 输出变量的十六进制形式和十进制值</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;int32: 0x%x %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
        <span class="token comment">// 将a变量数值转换为十六进制, 发生数值截断</span>
        b <span class="token operator">:=</span> <span class="token function">int16</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
        <span class="token comment">// 输出变量的十六进制形式和十进制值</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;int16: 0x%x %d\n&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
        <span class="token comment">// 将常量保存为float32类型</span>
        <span class="token keyword">var</span> c <span class="token builtin">float32</span> <span class="token operator">=</span> math<span class="token punctuation">.</span>Pi
        <span class="token comment">// 转换为int类型, 浮点发生精度丢失</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//结果</span>
<span class="token builtin">int8</span> <span class="token keyword">range</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">128</span> <span class="token number">127</span>
<span class="token builtin">int16</span> <span class="token keyword">range</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">32768</span> <span class="token number">32767</span>
<span class="token builtin">int32</span> <span class="token keyword">range</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">2147483648</span> <span class="token number">2147483647</span>
<span class="token builtin">int64</span> <span class="token keyword">range</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">9223372036854775808</span> <span class="token number">9223372036854775807</span>
<span class="token builtin">int32</span><span class="token punctuation">:</span> <span class="token number">0x3e6f54ff</span> <span class="token number">1047483647</span>
<span class="token builtin">int16</span><span class="token punctuation">:</span> <span class="token number">0x54ff</span> <span class="token number">21759</span>
<span class="token number">3</span>
</code></pre></div><p>根据输出结果，16 位有符号整型的范围是 -32768～32767，而变量 a 的值 1047483647 不在这个范围内。1047483647 对应的十六进制为 0x3e6f54ff，转为 int16 类型后，长度缩短一半，也就是在十六进制上砍掉一半，变成 0x54ff，对应的十进制值为 21759。</p> <p>浮点数在转换为整型时，会将小数部分去掉，只保留整数部分。</p> <h2 id="_6-1-修改字符串"><a href="#_6-1-修改字符串" class="header-anchor">#</a> 6.1 修改字符串</h2> <p>Golang语言的字符串是<code>不可变的</code></p> <p>修改字符串时，可以将字符串<code>转换为[]byte</code>进行修改</p> <p><strong>[]byte和string可以通过强制类型转换</strong></p> <blockquote><p>案例：将8080改为8081</p></blockquote> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	s1 <span class="token operator">:=</span> <span class="token string">&quot;localhost:8080&quot;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
	<span class="token comment">// 强制类型转换 string to byte</span>
	strByte <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

	<span class="token comment">// 下标修改</span>
	strByte<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'1'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strByte<span class="token punctuation">)</span>

	<span class="token comment">// 强制类型转换 []byte to string</span>
	s2 <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>strByte<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h1 id="_7-小练习"><a href="#_7-小练习" class="header-anchor">#</a> 7. 小练习</h1> <blockquote><p>字符串替换, 比如将 &quot;Hello, ms的go教程Java教程&quot; 替换为  &quot;Hello, ms的go教程Go教程&quot;</p></blockquote> <p>思路：</p> <ol><li>找到Java所在的位置</li> <li>根据Java的长度将其分为两部分</li> <li>加上Go总共三部分，进行拼接</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;bytes&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	str1 <span class="token operator">:=</span> <span class="token string">&quot;Hello, ms的go教程Java教程&quot;</span>
	source <span class="token operator">:=</span> <span class="token string">&quot;Java&quot;</span>
	target <span class="token operator">:=</span> <span class="token string">&quot;Go&quot;</span>
	index <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> source<span class="token punctuation">)</span>
	sourceLength <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span>
	start <span class="token operator">:=</span> str1<span class="token punctuation">[</span><span class="token punctuation">:</span>index<span class="token punctuation">]</span>
	end <span class="token operator">:=</span> str1<span class="token punctuation">[</span>index<span class="token operator">+</span>sourceLength<span class="token punctuation">:</span><span class="token punctuation">]</span>

	<span class="token keyword">var</span> stringBuilder bytes<span class="token punctuation">.</span>Buffer
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span>
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
	stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/go-study/basic-syntax/2.变量.html" class="prev">
        变量
      </a></span> <span class="next"><a href="/blog/go-study/basic-syntax/4.指针-类型转换.html">
        指针-类型转换
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.17aef99c.js" defer></script><script src="/blog/assets/js/2.cb836bf6.js" defer></script><script src="/blog/assets/js/1.085f3e10.js" defer></script><script src="/blog/assets/js/69.09eb9f27.js" defer></script>
  </body>
</html>
