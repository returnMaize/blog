(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{441:function(s,t,a){"use strict";a.r(t);var e=a(25),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示数据库")]),s._v("\nshow databases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示表")]),s._v("\nshow tables"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入数据库")]),s._v("\nuse xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 统计数据总数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分页")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一页 10 条")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" * from user limit "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二页 10 条")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" * from user limit "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("常用操作符\n"),t("img",{attrs:{src:"image-3.png",alt:"alt text"}})])]),s._v(" "),t("p",[s._v("更多命令\nhttps://www.runoob.com/mysql/mysql-tutorial.html")]),s._v(" "),t("h2",{attrs:{id:"数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[s._v("#")]),s._v(" 数据类型")]),s._v(" "),t("h4",{attrs:{id:"数值类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数值类"}},[s._v("#")]),s._v(" 数值类")]),s._v(" "),t("p",[s._v("常用整形")]),s._v(" "),t("ul",[t("li",[s._v("tinyint 1 个字节 -128 +127")]),s._v(" "),t("li",[s._v("int 4 个字节 -8388608 +8388608")]),s._v(" "),t("li",[s._v("bigint 8 个字节 好多个亿")])]),s._v(" "),t("p",[s._v("常用浮点形")]),s._v(" "),t("ul",[t("li",[s._v("decimal 可变取值范围")])]),s._v(" "),t("h2",{attrs:{id:"字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符"}},[s._v("#")]),s._v(" 字符")]),s._v(" "),t("ul",[t("li",[s._v("char 固定字节（char(10)表示固定占用 10 个字符内存空间）")]),s._v(" "),t("li",[s._v("varchar 可变字节 （varchar(10) 表示最大 10 个字节，具体存储根据实际字符长度）")])]),s._v(" "),t("h2",{attrs:{id:"备注类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备注类"}},[s._v("#")]),s._v(" 备注类")]),s._v(" "),t("ul",[t("li",[s._v("tinytext 字符串，最大长度 255")]),s._v(" "),t("li",[s._v("text 字符串，最大长度 65535")]),s._v(" "),t("li",[s._v("mediumtext 字符串 最大长度 16777215")]),s._v(" "),t("li",[s._v("longtext 字符串 最大长度 四十多个亿")])]),s._v(" "),t("h2",{attrs:{id:"分组函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分组函数"}},[s._v("#")]),s._v(" 分组函数")]),s._v(" "),t("ul",[t("li",[s._v("avg 求平均值")]),s._v(" "),t("li",[s._v("count 统计行数")]),s._v(" "),t("li",[s._v("max 最大值")]),s._v(" "),t("li",[s._v("min")]),s._v(" "),t("li",[s._v("sum 求和")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# score 平均值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" avg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# score 最大值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" max"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# score 总值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 总行数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"表与表之间的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表与表之间的关系"}},[s._v("#")]),s._v(" 表与表之间的关系")]),s._v(" "),t("ul",[t("li",[s._v("笛卡尔积连接（关联查询）*不推荐")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：select 表1.字段, 表2.字段 from 表1, 表2 where 表1.id = 表2.id;")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" article.title, article.content, article.id, category.name from article, category where article.id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" category.id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("内连接（关联查询）*推荐")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# inner join 表 on 条件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：select 表1.字段, 表2.字段 from 表1 inner join 表2 on 表1.id = 表2.id;")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" article.title, article.content, article.id, category.name from article INNER JOIN category ON article.id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" category.id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("ul",[t("li",[s._v("左外连接（关联查询）")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# left join 表 on 条件")]),s._v("\n")])])]),t("ul",[t("li",[s._v("右外连接（关联查询）")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# right join 表 on 条件")]),s._v("\n")])])]),t("p",[t("strong",[s._v("tip")])]),s._v(" "),t("p",[s._v("关联查询对比普通查询需要更多的性能。\n关联查询推荐使用内连接，笛卡尔积连接性能更差。")]),s._v(" "),t("h2",{attrs:{id:"索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[s._v("#")]),s._v(" 索引")]),s._v(" "),t("p",[s._v("作用：能够让查询速度变得非常快，不过多少条数据，扫描只需要扫一条。")]),s._v(" "),t("p",[t("strong",[s._v("普通索引")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建索引")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 create index 索引名称 on 表名(字段名);")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" user_name_index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除索引")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 drop index 索引名称 on 表名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" user_name_index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("唯一索引")])]),s._v(" "),t("p",[s._v("数据不允许重复（主键默认就是唯一索引）")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建索引")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 create unique index 索引名称 on 表名(字段名);")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" user_name_index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除索引")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 drop unique index 索引名称 on 表名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" user_name_index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[s._v("#")]),s._v(" 事务")]),s._v(" "),t("p",[s._v("保证整个任务完全执行（应用场景如： A 的钱转给 B）。")]),s._v(" "),t("ul",[t("li",[s._v("begin 开启事务")]),s._v(" "),t("li",[s._v("rollback 回滚事务")]),s._v(" "),t("li",[s._v("commit 提交事务")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 开启事务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 扣掉 A 的钱")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 给 B 添加钱")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 提交事务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#锁"}},[s._v("#")]),s._v(" 锁")]),s._v(" "),t("p",[t("strong",[s._v("读锁")])]),s._v(" "),t("p",[s._v("在解锁之前，所有人都只能读不能操作。")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 lock table 表名 read;")]),s._v("\n")])])]),t("p",[t("strong",[s._v("写锁")])]),s._v(" "),t("p",[s._v("只有写锁人能进行读写操作，其他人既不能读也不能写。")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 语法 lock table 表名 write;")]),s._v("\n")])])]),t("p",[t("strong",[s._v("解锁")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unlock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);